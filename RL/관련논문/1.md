# 제목 

- [Adaptive Navigation in Collaborative Robots: A Reinforcement Learning and Sensor Fusion Approach](https://www.mdpi.com/2571-5577/8/1/9)

# 저자

- Rohit Tiwari, A. Srinivaas, Ratna Kishore Velamati

# Abstract

- 강화 학습과 여러 센서를 통합하여 자율 주행 차량의 내비게이션과 장애물 회피 성능을 향상시키는 접근법을 제안함.
- 제안된 시스템은 차량의 적응 능력을 지원하기 위해 실시간으로 의사 결정을 내릴 수 있는 강화 학습 기반의 의사 결정 알고리즘을 가능하게 하도록 설계되었음.
- 이 방법은 Ublox Neo 6M GPS와 3축 자력계(자기 센서)를 기반으로 한 내비게이션 시스템을 갖춘 프로토파입 차량에서 테스트되었으며, 장애물 감지를 위해 세 개의 초음파 센서를 사용함.

  <img width="606" height="160" alt="image" src="https://github.com/user-attachments/assets/32f30861-2b65-499d-a749-b0a87c730bbe" />

- 모델에 비의존적인 강화 학습 알고리즘과 효과적인 장애물 회피 센서(라이다나 카메라 대신)를 사용함으로써, 제안된 시스템은 컴퓨터 연산 자원 요구 사항, 적응성, 전체 비용 측면에서 이점을 제공함.
- 실험 결과, 제안된 방법은 내비게이션 정확도를 크게 향상시키며, 장애물 회피 능력 또한 현저히 개선하는 것으로 나타남.
- 프로토파입 차량은 테스트 트랙의 조건에 매우 잘 적응했으며, 차량에서 수집된 데이터 로그를 분석하여 성능을 확인함.
- 이 연구는 **강화 학습과 센서 융합이 자율 주행 내비게이션을 향상시키고, 역동적인 환경에서 차량을 더 신뢰성 있고 지능적으로 작동하도록 만든다는 것을 보여줌**.

# Keywords:

- obstacle avoidance, reinforcement learning, dynamic environments, autonomous vehicle navigation
  

# 용어 정리

|용어|설명|
|:-|:-|
|Cobot|A collaborative robot. 협동 로봇|
|Ublox Neo 6M GPS|저비용이면서도 정확한 위치 정보를 제공하는 GPS 모듈. 차량의 현재 위치와 목적지 파악을 위해 사용|
|3축 자력계<br>(Three-axis magnetometer)|지구 자기장을 감지하여 차량의 방향(헤딩) 측정. GPS가 위치를 알려준다면, 자력계는 차량이 어느 방향을 향하고 있는지 알려줌.<br><img width="592" height="400" alt="image" src="https://github.com/user-attachments/assets/3436f5e6-8da7-4cb3-a563-578e6031478a" />|
|Non holonomic contraints|위치 좌표만으로 표현할 수 없는 제약. 보통 속도(velocity)나 운동 방향이 관련된 제약<br> <img width="465" height="250" alt="image" src="https://github.com/user-attachments/assets/c0fd8b08-9ed2-4360-935e-e842c785b36c" /><br><img width="588" height="400" alt="image" src="https://github.com/user-attachments/assets/c36386c7-d7e5-49c8-8a36-6a2fa07ae668" /> |
|GNSS 신호|Global Navigation Satellite System 신호<br>  - 위성이 지구로 보내는 다양한 주파수 전파로, 위치.속도.시간을 계산하는 데 사용<br>  - GPS는 GNSS 신호를 사용하는 주요 시스템 중 하나|


<br>
<br>

# 1. Introduction

- 예상치 못한 장애물을 만날 수 있는 동적이고 예측 불가능한 환경에 투입되는 로봇에게는 적응형 장애물 회피 능력이 필요함. 
- **사전 정의된 규칙이나 정적인 모델에 기반한 장애물 회피 방법은 제한된 환경에서는 잘 작동하지만, 상황이 자주 변하는 실제 동적 환경에서는 적응할 수 없음**.
  - => 강화 학습과 센서 융합을 통해 동적 장애물에 적응력이 있는 로봇을 개발하는 것이 필요함을 뜻함.
- 경로 계획은 로봇과 차량의 자율 주행에서 기본적인 요소로, 출발지에서 목적지까지 충돌을 피하면서 가장 짧고 효율적인 경로를 찾는 것이 중요함.
- 여러 가지 경로 계획 알고리즘
  
  |기반 구조| 알고리즘 | 특징 | 적용 환경 | 장점 | 단점 | 사용예|
  |:-|:-|:-|:-|:-|:-|:-|
  |트리 기반|Dijkstra(D<sup>*</sup>)|최단 경로 보장|정적 환경에서 효율적<br>동적 환경에서도 뛰어난 적응력|- 정확한 경로 계산<br>- 환경 변화 시 기존 경로를 빠르게 재계산|계산량 많음<br>구현 복잡|Planetary rovers|
  |트리 기반|A star(A<sup>*</sup>)|Heuristics 사용으로 빠른 계산|정적 환경|계산 효율 높음|휴리스틱에 따라 성능 변동||
  |트리 기반|RRTs<br>(Rapidly exploring Random Trees)|트리 구조로 경로 탐색|동적 환경, 차륜형 로봇과 같은 비홀로노믹 시스템(Non holonomic system)|복잡한 공간에 적합|최적 경로 보장 어려움|자동차형 로봇, 차륜형 로봇|
  |nature-inspired 기반|Genetic Algorithm||생물 진화 원리 모방|복잡한 환경|다양한 해 탐색 가능|최적 경로 보장 안됨||
  |nature-inspired 기반|Ant Colony Optimization|가상 패로몬 경로 탐색|동적 환경, 다중 로봇|다중 경로 탐색에 강함|수렴 속도 느릴 수 있음||
  |nature-inspired 기반|Firefly Algorithm|반딧불 밝기 기반 탐색|정적/동적 환경|다양한 환경에 적용 가능|계산 자원 요구 높음|수중 로봇|

- Dijkstra나 A*와 같은 기존 경로 계획 알고리즘은 정적인 모델과 사전 정의된 규칙에 의존하기 때문에 동적인 환경에는 적합하지 않음.
- <b> 환경 조건에 따라 빠르게 적응할 수 있는 보다 유연하고 지능적인 시스템이 협동 로봇(Cobot)의 효율적 운용과 구현을 위해 필요함</b>.
  
- 본 연구에서는 강화 학습을 기반으로, 로봇이 스스로 학습하고 적응할 수 있도록 시스템을 설계함
- 모델에 의존하지 않는(model-free) 방식을 사용하여, 환경의 사전 모델 없이도 실시간으로 행동을 조정할 수 있음. 즉, 경험을 통해 장애물 회피 전략을 개선하며, 변화하는 환경에 능동적으로 대응함.
- 본 연구에서 제안하는 방식은 기존의 고정된 규칙 기반 시스템보다 유연하고 지능적인 장애물 회피가 가능함.
- Cobot이 내린 과거의 결정 데이터와 센서 데이터를 분석함으로써, Cobot이 따라간 경로와 그가 직면한 다양한 장애물의 위치를 나타내는 대략적인 경로 지도를 생성할 수 있음.

  <img width="513" height="300" alt="image" src="https://github.com/user-attachments/assets/ceaad59b-4257-43eb-9702-b94992e018e1" />

  
<br>

# 2. Literature Review

- Unmanned Ground Vehicles(UGV) 관련 연구
  - Design of Obstacle Avoidance and Waypoint Navigation using Global Position Sensor/Ultrasonic Sensor(2021): GPS가 어떻게 초음파 센서를 통해 장애물을 회피하며 출발지에서 목적지까지 가는 경로를 안내하는 지를 보여 주는 연구
    - 이 시스템은 GPS 좌표가 미리 설정되어 있어서 차량이 특정 경로를 따라가며, 주행 중 장애물 감시 시 경로를 조정함.
    - 초음파 센서를 사용하여 LiDAR와 같은 고가의 복잡한 센서 대신 비교적 저비용 대안을 제안함.
- 자율주행 성능 향상을 위한 GPS and magnetometers 통합 관련 연구
  - GPS-Based Navigation System for Autonomous Car(2017)
  - Autonomous vehicle using GPS and magnetometer with HMI on LabVIEW(2016)
    - LabVIEW HMI:
      - GPS와 magnetometer를 사용하여 현재 위치 데이터와 방향 데이터 획득.
      - 내비게이션 과정 과정을 모니터링하고 제어할 수 있는 사용하기 쉬운 플랫폼 제공
      - GPS와 자력계의 결합은 일관되고 정확한 진행 방향을 유지해야 하거나, GPS 신호가 약하거나 차단되는 상황에서, 특히 도시나 숲이 울창한 환경에 적용하는 데 적합

          <img width="777" height="18" alt="image" src="https://github.com/user-attachments/assets/6f25e9d2-4f89-458d-a830-9f9ac8ca8e90" />

  - 자율주행 시 GNSS 신호 상실 가능성 대응 관련 연구
    - Multiple ultrasonic aiding system for car navigation in GNSS denied environment(2018):
      - 차량이 GPS에만 의존하지 않도록 여러 초음파 센서를 보완적으로 사용하는 방법을 연구함
      - GNSS 신호가 차단된 환경에서 지상 차량의 내비게이션 상태를 추정할 수 있는 해결책 제공
      - 저비용 초음파 센서와 관성측정장치(IMU)를 융합하기 위해 확장 칼만 필터(Extended Kalman Filter, EKF) 적용
        - EKF:
          - 칼만 필터(Kalman Filter)는 선형 시스템에서 상태 추정의 최적(최소 분산) 추정기를 제공함.
          - 하지만, 실제 시스템은 대개 비선형이므로, 비선형 시스템에 칼만 필터 아이디어를 적용하기 위해 비선형 함수를 1차(선형) 근사하여 사용하는 필터
        - EKF 사용 이유:
          - 초음파 센서만으로는 잡음이 많고 정확도가 낮을 수 있음
          - IMU(관성계: 가속도계/자이로센서)와 초음파 센서 데이터를 EKF로 융합하여 더 안정적인 속도.각속도 추정
          - KFL는 센서 데이터의 불확실성을 줄이고, 차량의 상태(위치, 속도, 방향)를 실시간으로 보정
      - 차량의 양쪽 뒷바퀴에 초음파 센서 장착 -> 좌우 거리 차이를 측정함으로써 차량의 각속도와 전진 속도 추정
        - 차량 직진 시:
          - 양쪽 센서가 측정하는 거리 변화가 거의 동일
          - 바퀴가 앞으로 굴러갈 때, 센서가 감지하는 거리가 일정한 주기로 변하므로, 이 변화를 시간에 따라 추적하면 차량의 전진 속도를 계산할 수 있음.
        - 차량 회전 시:
          - 안쪽 바뀌와 바깥쪽 바퀴가 서로 다른 궤적을 그리므로, 측정되는 거리 변환에 차이가 발생
          - 좌측과 우측 초음파 센서가 감지하는 거리 변화량을 비교하면, 차량이 얼마나 빠르게 회전하는지(yaw rate)를 추정할 수 있음.
      - 두 번의 실험 결과, GNSS 신호가 끊긴 상황에서도 내비게이션 정확도가 상당히 향상됨을 보여줌.

  - 실내 무인항공기 지원을 위한 자기장 매핑(magentic field mapping) 관련 연구
    - Magnetic field mapping as a support for UAV indoor navigation system(2017)
      - 지역 자기장 변화를 고해상도로 기록하고 시각화하여 자기장 지도를 만듦
      - 이러한 지도는 UAV가 복잡한 실내 공간에서 자율적으로 항법할 수 있는 참조 프레임워크 역할을 함
      - **자기장 매핑에서 중요한 점은 자력계(magnetometer) 보정임**
      - 연구에서는 영구자석(permanent magnets)을 의도적으로 자기장에 도입하여 이상 현상을 '비콘(beacon)'처럼 활용, UAV가 자신의 위치를 파악하고 환경을 매핑할 수 있도록 함.
      - **자기장 맵핑은 GPS가 닿지 않는 실내 환경에서 UAV의 자율 내비게이션을 가능하게 하는 신뢰성 있는 대안 기술**

  - 이동형 로봇의 다양한 기술 검토 연구
    - A review: On path planning strategies for navigation of mobile robot(2019)
      - 고전적 기법
        - cell decomposition
        - roadmap methods
        - artificial potential fields
      - 반응적 기법
        - Genetic Algorithms
        - Fuzzy logic

  - 내비게이션 성능 향상을 위한 2D LiDAR 데이터와 RGB-D 카메라 융합 연구
    - Robot mapping and navigation system based on multi-sensor fusion(2021)
      - 베이지안 추정(Bayesian estimation)을 활용한 다중 센서 데이터 융합 적용
      - 2차원 격자 지도(grid map)의 정확성을 높이고 LiDAR의 스캔 높이 아래에 있는 장애물까지 탐지 가능
      - 효율적 경로 탐색을 위해 동적 윈도우 방법(dynamic window method) 적용
        - 글로벌 경로 계획(global path planning)과 로컬 경로 계획(local path planning)을 개선된 알고리즘으로 각각 통합
      - 정적 환경과 동적 환경 모두에서 성공적으로 내비게이션을 수행할 수 있음을 보여줌.

  - 내비게이션 및 장애물 회피 성능 향상을 위한 딥러닝 구조의 활용 관련 연구
    -  Path Planning for Mobile Robots Using Deep Learning Architectures(2021)
      - 여러 모델 중, CNN-LSTM 하이브리드 모델이 가장 우수한 성능을 보임

  - 자율 내비게이션 성능 향상을 위한 하이브리드 샘플링 기반 알고리즘 적용 연구
    - A Hybrid Sampling-Based RRT*(Rapidly-exploring Random Tree Star) Path Planning Algorithm for Autonomous Mobile Robot Navigation(2024)
      - 균일 샘플링(uniform sampling)과 비균일 샘플링(non-uniform sampling) 전략을 통합하여 복잡한 환경에서 향상된 내비게이션 효율성을 보여줌
        - 균일 샘플링(환경 전체를 고르게 탐색)과 비균일 샘플링(특정 영역을 집중적으로 탐색)을 결합 → 탐색 효율성과 경로 품질을 동시에 개선
      - **하이브리드 접근 방식이 자율 내비게이션 성능에 크게 기여할 수 있음을 시사**
        
  - 자율 내비게이션을 위한 심층 강화학습과 센서 융합 연구
    - Autonomous navigation by mobile robot with sensor fusion based on deep reinforcement learning(2024)
      - LiDAR와 depth camera 활용
      - Heuristic global navigation 함수를 통해 최적의 내비게이션 지점을 선택하고, Soft-Actor-Critic 알고리즘을 지역(local) 내비게이션에 적용하여 **미지의 환경에서도 길을 개척할 수 있도록 함.**
      - 이 시스템은 장앰물을 효과적으로 회피하고 동적 상황에 대응할 수 있는 능력을 강조함.
      - 실험 결과, 전통적인 방법보다 이동 시간과 거리 측면에서 우수한 성능을 보였음.

  - 뉴로모픽 컴퓨팅(Neuromorphic computing)과 스파이킹 신경망(SNNs, Spiking Neural Networks) 기반 내비게이션 관련 연구
    - Neuromorphic Sensing, Perception and Control for Robotics(2022)
      - 이벤트 기반(event-driven) 뉴로모픽 센서, 예를 들어 동적 비전 센서(DVS, Dynamic Vision Sensor)는 장면에서 관련된 변화만 포착(변화가 있을 때문 데이터 기록)
      - 기존의 클록(clock) 구동 방식을 중단하여 불필요한 데이터의 처리를 줄임
      - 중복 정보는 최소화하고, 관찰 시간 해당도(temporal resolution)는 높이며, 신경-의미-운동(neural-semantic-motor) 통합을 가능하게 함.
      - 이러한 통합은 비정형 공간을 탐색하는 데 필수적임
    - Spiking Neural Networks for Autonomous Driving: A Review(2024)
      - ㅇ
    - A. Neuromorphic Computing for Interactive Robotics: A Systematic Review(2022)
    - 
    
# 3. Methodology

# 4. System Architecture

## 4.1. Sensors

### 4.1.1. Ublox NEO-6M GPS Module

### 4.1.2. LIS2MDL 3-Axis Magnetometer

### 4.1.3. Ultrasonic Sensor


## 4.2. Power Supply


## 4.3. Microcontroller: Arduino Mega 2560


## 4.4. Bluetooth Module: HC-05


## 4.5. Motor Driver and Movement Control


## 4.6. Cost Comparison of Components Used



# 5. Experimental Results


# 6. Future Scope


# 7. Conclusions


<br>
<hr>

# 추가 자료


<hr>

- **GPS 보완 방안:**
  - 양쪽 후륜에 설치한 초음파 센서로 각속도와 전진속도 추정하여 마지막 GPS 위치로부터 상대적 위치 추정 => 확장 칼만 필터 추가 적용으로 정확성 향상
  - 자기장 맵핑 기반 추정
